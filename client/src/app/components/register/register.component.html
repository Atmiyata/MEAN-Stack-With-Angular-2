<h1 class="page-header">
  Register Page
</h1>
<div class="row show-hide-message">
  <div [ngClass]="messageClass">
   {{message}}
  </div>
</div>
<form [formGroup]="form" (submit)="submitForm();">
  <div class="form-group">
    <label for="username">User name:</label>
    <div [ngClass]="{'has-error':(form.controls.username.errors && form.controls.username.dirty),
        'has-success':!form.controls.username.errors}">
      <input type="text" class="form-control" name="username" placeholder="Enter User Name" formControlName="username" [(ngModel)]="user.username">
    </div>
    <ul class="help-block">
      <li *ngIf="form.controls.username.errors?.required  && form.controls.username.dirty">please type valid username</li>
      <li *ngIf="form.controls.username.errors?.minlength || form.controls.username.maxlength">Minimum characters:3, Maximum character:20</li>
    </ul>
  </div>
  <div class="form-group">
    <label for="email">Email address:</label>
    <div [ngClass]="{'has-error':(form.controls.email.errors && form.controls.email.dirty),
    'has-success':!form.controls.email.errors}">
      <input type="email" class="form-control" name="email" placeholder="Enter Email Address" formControlName="email" [(ngModel)]="user.email">
    </div>
    <ul class="help-block">
      <li *ngIf="form.controls.email.errors?.required  && form.controls.email.dirty"> Email is required</li>
      <li *ngIf="form.controls.email.errors?.minlength || form.controls.email.errors?.maxlength">Minimum characters:5, Maximum characters:40</li>
      <li *ngIf="form.controls.email.errors?.validateEmail && form.controls.email.dirty">Please type valid email adress</li>
    </ul>
  </div>
  <div class="form-group">
    <label for="password">Password:</label>
    <div [ngClass]="{'has-error':(form.controls.password.errors && form.controls.password.dirty),
    'has-success':!form.controls.password.errors}">
      <input type="password" class="form-control" name="password" placeholder="Enter Your Password" formControlName="password"
        [(ngModel)]="user.password">
    </div>
    <ul class="help-block">
      <li *ngIf="form.controls.password.errors?.required  && form.controls.password.dirty">Please type valid password</li>
      <li *ngIf="form.controls.password.errors?.minlength || form.controls.password.maxlength">Minimum characters:6, Maximum character:20</li>
    </ul>
  </div>

  <div class="form-group">
    <label for="confirm"> Confirm password:</label>
    <div [ngClass]="{'has-error':(form.controls.confirm.errors && form.controls.confirm.dirty),
      'has-success':!form.controls.confirm.errors}">
      <input type="password" class="form-control" name="confirm" placeholder="Confirm Your Password" formControlName="confirm"
        [(ngModel)]="user.confirm">
    </div>
    <ul class="help-block">
      <li *ngIf="form.controls.confirm.errors?.required  && form.controls.confirm.dirty">please type valid password</li>
      <li *ngIf="form.controls.confirm.errors?.minlength || form.controls.confirm.maxlength">Minimum characters:6, Maximum character:20</li>
      <li *ngIf="passwordNotMatch && form.controls.confirm.dirty">Password do not match.</li>
    </ul>
  </div>
  <button type="submit" [(disabled)]="!form.valid " class="btn btn-primary">Submit</button>
</form>